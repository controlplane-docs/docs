---
title: Registry Mirroring
---

## Overview

This addons build a P2P network from all the nodes on the cluster possibly speeding up image pulls - ideally an image will be pulled once per cluster and not once per node. There is a small increase in disk usage because layers are kept for longer in case they are needed on a different node.

## How to Enable

The Registry mirror dashboard add-on can be enabled for your Kubernetes cluster either during the cluster creation process or at any time thereafter. The following sections outline the methods for enabling the add-on:

### At Cluster Creation

- **Through Cluster Manifest**: Add the following snippet to your cluster manifest when creating the cluster:

    ```yaml
    spec:
      addOns:
        registryMirror: {}
    ```

- **Using the Console**: If you're creating the cluster through the console, navigate to `Add-ons`, find the `Registry Mirror` add-on in the list of available add-ons, and toggle it on.

### After Cluster Creation

If the Headlamp add-on was not enabled during the cluster creation, you can still enable it using either of the following methods:

#### Using Manifest

Under `spec.addOns` in the YAML manifest of the cluster, you can edit it either by navigating to the cluster in the Console and using the `Edit & Apply` option for the cluster, or by applying the entire manifest using the `cpln apply >_` option in the upper right corner or by using the `cpln` [CLI](/cli-reference/overview).

Add the following:

```yaml YAML
spec:
  addOns:
    registryMirror: {}
```

If you are running a public registry mirror yourself, you can use like this:
```yaml
spec:
  addOns:
    registryMirror:
      - registry: docker.io
        mirrors:
          - https://my-mirror-1
          - https://my-mirror-2
```

By default (if no configuration is there) Control Plane uses only Google's Docker mirror (mirror.gcr.io)
#### Using UI

1. **Navigate to Control Plane Console**: Visit the [Control Plane Console](https://console.cpln.io/console/).
2. **Navigate to the Kubernetes cluster**: In the Control Plane Console, navigate to `Kubernetes` in the left sidebar panel and click on the Kubernetes cluster for which you want to enable the dashboard.
3. **Enable Registry Mirror**: Choose `Add-ons` and locate the `Registry Mirror` add-on from the list of available add-ons, then toggle it on.

## How to Access

Registry mirror has no endpoints - it is used internally by the kubelets.
