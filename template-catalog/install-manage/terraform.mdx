---
title: Install and Manage using Terraform
sidebarTitle: Terraform
---

## Prerequisites

<AccordionGroup>
<Accordion title="Terraform installed">
  Install [Terraform](https://www.terraform.io/downloads.html) (v0.13+).
</Accordion>

<Accordion title="Control Plane provider configured">
  Add the Control Plane provider to your Terraform configuration. See [Terraform Provider](/iac/terraform) for setup instructions.
</Accordion>
</AccordionGroup>

## Install a Template

Use the `cpln_catalog_template` resource to install a template from the catalog.

<Steps>
  <Step title="Choose a Template">
    Browse the available templates in the [Template Catalog](/template-catalog/overview#available-templates) and identify the template name and version you want to install.
  </Step>
  <Step title="Define the Resource">
    Add a `cpln_catalog_template` resource to your Terraform configuration:

    ```hcl
    resource "cpln_catalog_template" "example" {
      name     = "my-release"
      template = "postgres"
      version  = "1.0.0"
      gvc      = "my-gvc"

      values = <<-EOF
        # Customize template values here — refer to the specific template's
        # documentation for available options
      EOF
    }
    ```

    {/* TODO: Confirm exact attribute names and whether values is a string or a block */}

    Arguments:
    - **name** — A unique release name for this installation.
    - **template** — The name of the catalog template (e.g., `cockroachdb`).
    - **version** — The template version to install.
    - **gvc** — The GVC to deploy to. Leave empty if the template creates its own GVC.
    - **values** — YAML-formatted string to customize the template configuration.
  </Step>
  <Step title="Apply">
    Initialize and apply the configuration:

    ```bash
    terraform init
    terraform plan
    terraform apply
    ```

    Terraform will provision the required Control Plane resources based on your configuration.
  </Step>
</Steps>

### Outputs

After applying, the resource exposes a `resources` attribute containing a list of all Control Plane resources created by the release. Each entry includes:

- **kind** — The resource type (e.g., `workload`, `secret`, `gvc`).
- **name** — The resource name.
- **link** — The full Control Plane URL for the resource.

{/* TODO: Confirm output attribute access syntax, e.g. cpln_catalog_template.example.resources */}

## Manage a Template

### Upgrade

To upgrade a release with new values or a new template version, update the `version` and/or `values` arguments in your configuration and re-apply:

```bash
terraform plan
terraform apply
```

<Note>
Any workloads affected by the change will roll out new deployments. Unchanged items will not be redeployed.
</Note>

### Preview Changes

Use `terraform plan` to preview the changes that will be applied before upgrading:

```bash
terraform plan
```

## Uninstall a Template

Remove the `cpln_catalog_template` resource from your configuration and apply:

```bash
terraform plan
terraform apply
```

Alternatively, destroy the specific resource:

```bash
terraform destroy -target=cpln_catalog_template.example
```

This deletes all Control Plane resources created by the release.
