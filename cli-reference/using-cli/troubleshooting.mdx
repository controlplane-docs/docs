---
title: Troubleshooting
description: Solutions to common Control Plane CLI issues.
---

Quick solutions for common problems when using the Control Plane CLI.

## Installation and setup

<AccordionGroup>
<Accordion title="cpln: command not found">
  **Problem**: The CLI is installed but not found when running `cpln`.

  **Solutions**:

  1. Verify the installation:
     <Tabs>
       <Tab title="bash/zsh">
         ```bash
         which cpln
         ```
       </Tab>

       <Tab title="PowerShell">
         ```powershell
         Get-Command cpln
         ```
       </Tab>

       <Tab title="Command Prompt">
         ```cmd
         where cpln
         ```
       </Tab>
     </Tabs>

  2. Check if the binary is on your PATH:
     <Tabs>
       <Tab title="macOS/Linux">
         ```bash
         echo $PATH
         ```

         Ensure `/usr/local/bin` (or your installation directory) is included.
       </Tab>

       <Tab title="PowerShell">
         ```powershell
         $env:PATH -split ';'
         ```

         Ensure the directory containing `cpln.exe` is listed.
       </Tab>

       <Tab title="Command Prompt">
         ```cmd
         echo %PATH%
         ```

         Ensure the directory containing `cpln.exe` is listed.
       </Tab>
     </Tabs>

  3. Reinstall the CLI:
     <Tabs>
       <Tab title="npm">
         ```bash
         npm install -g @controlplane/cli
         ```
       </Tab>

       <Tab title="Homebrew">
         ```bash
         brew reinstall cpln
         ```
       </Tab>

       <Tab title="Binary">
         Re-download and extract to a directory in your PATH. See [Installation](/cli-reference/installation).
       </Tab>
     </Tabs>

  4. Restart your terminal after installation.
</Accordion>

<Accordion title="Permission denied when installing">
  **Problem**: Installation fails with permission errors.

  **Solutions**:

  <Tabs>
    <Tab title="npm">
      Use `sudo` (not recommended) or configure npm to install globally without sudo:

      ```bash
      # Configure npm prefix
      mkdir -p ~/.npm-global
      npm config set prefix '~/.npm-global'
      ```

      Add to your shell profile (`~/.bashrc`, `~/.zshrc`, etc.):
      ```bash
      export PATH=~/.npm-global/bin:$PATH
      ```

      Reload and reinstall:
      ```bash
      source ~/.bashrc  # or ~/.zshrc
      npm install -g @controlplane/cli
      ```
    </Tab>

    <Tab title="Binary">
      Move the binary to a user-writable directory instead of `/usr/local/bin`:

      ```bash
      mkdir -p ~/bin
      mv cpln ~/bin/
      ```

      Add `~/bin` to your PATH in `~/.bashrc` or `~/.zshrc`:
      ```bash
      export PATH="$HOME/bin:$PATH"
      ```
    </Tab>
  </Tabs>
</Accordion>
</AccordionGroup>

## Authentication

<AccordionGroup>
<Accordion title="Authentication failed or 403">
  **Problem**: Commands fail with authentication errors.

  **Solutions**:

  1. Check for typos in the org name:
     ```bash
     cpln profile get
     ```

     Verify the `org` value is correct. A 403 often means you're trying to access an org that doesn't exist or that you don't have access to.

  2. Re-authenticate:
     ```bash
     cpln login
     ```

  3. Check which profile is marked as active with a star `*`:
     ```bash
     cpln profile get
     ```

  4. Verify the token is valid:
     ```bash
     cpln profile token <profile-name>
     ```

  5. For service accounts, regenerate the key:
     ```bash
     cpln serviceaccount add-key <service-account-name> --description <key-description>
     ```

     <Note>
     Make sure the service account is assigned to a group that has the necessary permissions to access and manage resources (e.g. the `superusers` group).
     </Note>

     Update your profile with the new token:
     ```bash
     cpln profile update <profile-name> --token <new-token> --gvc <gvc-name>
     ```

     <Note>
     When using `--token`, always include `--gvc` to preserve or set your default GVC context.
     </Note>
</Accordion>

<Accordion title="Login opens the wrong browser">
  **Problem**: `cpln login` opens a browser you don't use.

  **Solutions**:

  1. Copy the URL from the terminal and paste it into your preferred browser.

  2. Change your system's default browser (OS-specific).

  3. Use a service account token instead of interactive login. See [Authentication](/cli-reference/get-started/authentication).
</Accordion>

<Accordion title="Login doesn't work in WSL2">
  **Problem**: `cpln login` opens a localhost URL that doesn't work in your Windows browser.

  **Cause**: The localhost URL points to the WSL2 instance, not Windows.

  **Solution**: Install a browser in WSL2 (requires [WSLg](https://github.com/microsoft/wslg)):

  ```bash
  cd /tmp
  sudo wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
  sudo dpkg -i google-chrome-stable_current_amd64.deb
  sudo apt install --fix-broken -y
  sudo dpkg -i google-chrome-stable_current_amd64.deb
  ```

  After installation, Chrome appears in your Windows Start menu under the distro name (e.g., **Ubuntu â†’ Google Chrome**). Run `cpln login`, copy the localhost URL from the terminal, and paste it into your WSL2 Chrome.

  **Alternative**: Use [browser-less login](/cli-reference/guides/browser-less-cli-login) with a service account token.
</Accordion>

<Accordion title="Wrong organization or GVC context">
  **Problem**: Commands execute in the wrong org or GVC.

  **Solutions**:

  1. Check your active profile:
     ```bash
     cpln profile get
     ```

  2. Override for a single command:
     ```bash
     cpln <command> --org <org-name> --gvc <gvc-name>
     ```

  3. Update your profile defaults:
     ```bash
     cpln profile update <profile-name> --org <org-name> --gvc <gvc-name>
     ```

  4. Use a different profile:
     ```bash
     cpln <command> --profile <profile-name>
     ```

  5. Set environment variables:
     ```bash
     export CPLN_ORG=my-org
     export CPLN_GVC=my-gvc
     ```
</Accordion>
</AccordionGroup>

## Connectivity and network

<AccordionGroup>
<Accordion title="TLS certificate errors">
  **Problem**: Commands fail with TLS/SSL errors.

  **Solutions**:

  1. Verify your system's certificate trust store is up to date.

  2. Check if you're behind a corporate proxy or firewall that intercepts TLS.

  3. As a temporary workaround (not recommended for production):
     ```bash
     cpln <command> --insecure
     ```

  4. Contact your network administrator to add Control Plane's certificate to your trust store.
</Accordion>

<Accordion title="Connection timeout or network errors">
  **Problem**: Commands fail with timeout or connection errors.

  **Solutions**:

  1. Check your internet connection.

  2. Verify you can reach the Control Plane API:
     ```bash
     curl -I https://api.cpln.io/about
     ```

  3. Check if you're behind a proxy.
</Accordion>
</AccordionGroup>

## Output and display

<AccordionGroup>
<Accordion title="Output is truncated or incomplete">
  **Problem**: Text output doesn't show all data.

  **Solutions**:

  1. Use JSON or YAML output for complete data:
     ```bash
     cpln <command> --output json
     cpln <command> --output yaml
     ```

  2. Increase the max results:
     ```bash
     cpln <command> --max 100
     ```

     <Tip>
     Set `--max 0` to get all the records.
     </Tip>

  3. Use `json-slim` or `yaml-slim` for cleaner structured output:
     ```bash
     cpln <command> --output json-slim
     ```

  See [Output Formats](/cli-reference/using-cli/output) for details.
</Accordion>

<Accordion title="Color codes in logs or files">
  **Problem**: Log files contain ANSI color codes.

  **Solutions**:

  1. Disable color:
     ```bash
     cpln <command> --color=false
     ```

  2. Color is automatically disabled when stdout is not a terminal. Redirect to a file:
     ```bash
     cpln <command> -o json > output.log
     ```
</Accordion>
</AccordionGroup>

## Commands and operations

<AccordionGroup>
<Accordion title="Command not found or unknown flag">
  **Problem**: CLI doesn't recognize a command or flag.

  **Solutions**:

  1. Verify you're using the correct command syntax:
     ```bash
     cpln <command> --help
     ```

  2. Check your CLI version:
     ```bash
     cpln --version
     ```

  3. Update to the latest version:
     <Tabs>
       <Tab title="npm">
         ```bash
         npm update -g @controlplane/cli
         ```
       </Tab>

       <Tab title="Homebrew">
         ```bash
         brew upgrade cpln
         ```
       </Tab>

       <Tab title="Binary">
         Download the latest binary from [Installation](/cli-reference/installation).
       </Tab>
     </Tabs>
</Accordion>
</AccordionGroup>

## Debugging

Enable verbose or debug output to troubleshoot issues:

<CodeGroup>
```bash Verbose output
cpln <command> --verbose
```

```bash Debug mode (shows HTTP traffic)
cpln <command> --debug
```
</CodeGroup>

<Warning>
Debug output may contain sensitive information (tokens, resource details). Use with caution and avoid sharing publicly.
</Warning>

## Getting help

If you can't resolve the issue:

- Email us at [support@controlplane.com](mailto:support@controlplane.com)
- Reach out on [Slack](https://slack.com) through the support channel

## Next steps

<CardGroup cols={2}>
  <Card title="Common Options" href="/cli-reference/using-cli/common-options" icon="sliders">
    Learn about shared CLI flags
  </Card>
  <Card title="Getting Help" href="/cli-reference/using-cli/help" icon="circle-question">
    Use the built-in help system
  </Card>
</CardGroup>
