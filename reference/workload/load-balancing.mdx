---
title: Load Balancing
---

# Direct Load Balancer

The Direct Load Balancer allows you to expose your [Workload's Ports](/reference/workload/containers#ports) directly through a cloud load balancer in each
 location where the workload is running.


## Overview

Direct load balancers are created in each location where a workload is running and are configured for the standard
 endpoints of the workload. Customers are responsible for configuring the workload with certificates if TLS is required.  Each location will
 obtain a public address that is configured as a possible target of the Geo DNS endpoint. The stadard latency based routing will be used for
 traffic distribution across the locations. Since the traffic is being routed directly to the workload through the load balancer, Domains do
 not need to be registered in order to receive traffic on the direct load balancer endpoints. The dns record for the workload can be configured
 in dns as a cname target for any source domains you wish accpet traffic for.

## Configuration

The Direct Load Balancer configuration is defined in the workload using `directLoadBalancer` in the workload spec,
 with the following properties:

### direct

The `direct` object contains the configuration for the Direct Load Balancer.

| Property  | Type    | Description                                                 |
|-----------|---------|-------------------------------------------------------------|
| `enabled` | boolean | When set to `false`, this load balancer will be stopped and no charges will accrue |
| `ports`   | array   | A list of ports that will be exposed by this load balancer |

### `ports`

Each port in the `ports` array is added to the cloud load balancer to control the routing behavior:

| Property        | Type              | Description |
|-----------------|-------------------|-------------|
| `externalPort`  | number            | The port that is available publicly. Must be between 22 and 32768 |
| `protocol`      | string            | The protocol that is exposed publicly. Can be either 'TCP' or 'UDP' |
| `scheme`        | string (optional) | Overrides the default `https` URL scheme that will be used for links in the UI and status. Valid values are 'http', 'tcp', 'https', 'ws', 'wss' |
| `containerPort` | object            | The port on the container that will receive this traffic |

## Example Configuration

Here's an example configuration for a Direct Load Balancer:

```yaml
spec:
  direct:
    enabled: true
    ports:
      - externalPort: 80
        protocol: TCP
        scheme: http
        containerPort:
          port: 8080
      - externalPort: 443
        protocol: TCP
        scheme: https
        containerPort:
          port: 8443
      - externalPort: 9000
        protocol: UDP
        containerPort:
          port: 9000