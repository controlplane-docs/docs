---
title: Google Antigravity
sidebarTitle: Antigravity
description: Configure the Control Plane MCP Server for Google Antigravity IDE
---

Connect Google Antigravity to Control Plane to manage your infrastructure with AI-powered development workflows.

## Prerequisites

<CardGroup cols={2}>
  <Card title="Google Antigravity" icon="download">
    Download [Antigravity](https://antigravity.google)
  </Card>
  <Card title="Service Account Token" icon="key">
    Create a [service account](/guides/create-service-account) with appropriate permissions
  </Card>
</CardGroup>

<Note>
  For the latest MCP configuration options in Antigravity, refer to the official [Google Antigravity Documentation](https://antigravity.google/docs).
</Note>

## Configuration

<Steps>
  <Step title="Open MCP Store">
    In Antigravity, open the MCP store via the **"..."** dropdown at the top of the editor's agent panel.
  </Step>

  <Step title="Access MCP Configuration">
    Click on **"Manage MCP Servers"**, then click on **"View raw config"** to open the `mcp_config.json` file.
  </Step>

  <Step title="Add the MCP Server Configuration">
    Add the Control Plane MCP Server to the `mcp_config.json` file:

    ```json
    {
      "mcpServers": {
        "cpln": {
          "env": {
            "BEARER_TOKEN": "<your-service-account-token>"
          },
          "command": "npx",
          "args": [
            "mcp-remote",
            "https://mcp.cpln.io/mcp",
            "--header",
            "Authorization: ${BEARER_TOKEN}"
          ]
        }
      }
    }
    ```

    <Warning>
      Replace `<your-service-account-token>` with your actual service account token.
    </Warning>

    <Tip>
      This method requires Node.js and npm to be installed on your system.
    </Tip>
  </Step>

  <Step title="Save Configuration">
    Save the `mcp_config.json` file. Antigravity will automatically reload the MCP server configuration.
  </Step>
</Steps>

## Verify the Connection

After configuration, verify the connection by asking the AI agent:

```
List all cpln mcp server tools
```

The agent should list the available Control Plane MCP tools.

## Example Usage

<Steps>
  <Step title="Set Context">
    ```
    Use org "my-org" and gvc "my-gvc" for context.
    ```
  </Step>

  <Step title="Deploy a Workload">
    ```
    Create a publicly accessible workload called "my-api" using nginx:latest on port 80.
    ```
  </Step>

  <Step title="Get the Endpoint">
    ```
    Monitor the readiness of my-api and give me the public endpoint once it's ready.
    ```
  </Step>
</Steps>

## Troubleshooting

<AccordionGroup>
  <Accordion title="Authentication issues">
    - Check that your service account token is valid.
    - Ensure the token is entered without extra spaces or quotes.
    - Verify the token has appropriate permissions (see [Service Account Permissions](/mcp/overview#service-account-permissions)).
    - **Check for typos in the org name** you're using for context, this is a common cause of authentication failures.
  </Accordion>

  <Accordion title="MCP Server not appearing">
    - Ensure Node.js and npm are installed (required for `npx`).
    - Verify the JSON syntax is valid.
    - Check the AI agent panel for error messages.
    - Restart Antigravity if the server doesn't appear.
  </Accordion>
</AccordionGroup>

## Next Steps

<CardGroup cols={2}>
  <Card title="Usage Examples" icon="lightbulb" href="/mcp/examples">
    See practical examples of Control Plane operations
  </Card>
  <Card title="Policy Reference" icon="shield" href="/reference/policy">
    Learn about permissions and access control
  </Card>
</CardGroup>
