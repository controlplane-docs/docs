---
title: Azure Connector
---

Azure Connector secrets store credentials for connecting to Azure Function Apps, enabling Control Plane to integrate with serverless Azure functions for custom processing or webhooks.

## Use Cases

- **Webhook Processing**: Trigger Azure Functions from Control Plane events
- **Custom Integrations**: Connect to Azure-hosted business logic
- **Serverless Workflows**: Integrate with Azure Durable Functions
- **Event Processing**: Route events to Azure Function endpoints

## Configuration Options

| Field | Description | Required |
|:------|:------------|:---------|
| `url` | Azure Function App deployment URL | Yes |
| `code` | Function authentication key (host key or function key) | Yes |

<Note>
The `code` is the function key that authenticates requests to your Azure Function. You can find it in the Azure Portal under your Function App's **App keys** or **Function keys** section.
</Note>

---

## Create an Azure Connector Secret

Choose from any of the four methods below to create an Azure Connector secret:

<CardGroup cols={2}>
  <Card title="Console UI" icon="desktop" href="#console-ui">
    Create using the web interface
  </Card>
  <Card title="CLI" icon="terminal" href="#cli">
    Create using the command line
  </Card>
  <Card title="Terraform" icon="code" href="#terraform">
    Create using infrastructure as code
  </Card>
  <Card title="Pulumi" icon="code" href="#pulumi">
    Create using Pulumi
  </Card>
</CardGroup>

---

## Console UI

### UI Form

1. In the Console, navigate to **Secrets** and click **New**, or use the **Create** dropdown in the top-right corner and select **Secret**.
2. Enter a **Name** and optional **Description**.
3. Select **Azure Connector** as the secret type.
4. Click **Data** in the left pane.
5. Enter the **URL** (Azure Function App deployment URL).
6. Enter the **Code** (authentication key).
7. Click **Create**.

### Apply YAML

Use the **Apply** feature in the Console to create a secret by pasting YAML:

```yaml
kind: secret
name: azure-function-connector
description: Azure Function App webhook connector
type: azure-connector
data:
  url: https://my-function-app.azurewebsites.net/api/webhook
  code: your-function-key-here
```

---

## CLI

```bash
cpln secret create-azure-connector \
  --name azure-function-connector \
  --url https://my-function-app.azurewebsites.net/api/webhook \
  --code your-function-key-here \
  --org my-org
```

---

## Terraform

```hcl
resource "cpln_secret" "azure_connector" {
  name        = "azure-function-connector"
  description = "Azure Function App webhook connector"

  azure_connector {
    url  = "https://my-function-app.azurewebsites.net/api/webhook"
    code = "your-function-key-here"
  }
}
```

<Warning>
This example uses a placeholder function key for testing. In production, use Terraform variables or a secrets manager.
</Warning>

---

## Pulumi

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    import * as cpln from "@pulumiverse/cpln";

    const azureConnectorSecret = new cpln.Secret("azure-function-connector", {
      name: "azure-function-connector",
      description: "Azure Function App webhook connector",
      azureConnector: {
        url: "https://my-function-app.azurewebsites.net/api/webhook",
        code: "your-function-key-here",
      },
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    import pulumiverse_cpln as cpln

    azure_connector_secret = cpln.Secret("azure-function-connector",
        name="azure-function-connector",
        description="Azure Function App webhook connector",
        azure_connector={
            "url": "https://my-function-app.azurewebsites.net/api/webhook",
            "code": "your-function-key-here",
        })
    ```
  </Tab>
  <Tab title="Go">
    ```go
    package main

    import (
        "github.com/pulumi/pulumi/sdk/v3/go/pulumi"
        "github.com/pulumiverse/pulumi-cpln/sdk/go/cpln"
    )

    func main() {
        pulumi.Run(func(ctx *pulumi.Context) error {
            _, err := cpln.NewSecret(ctx, "azure-function-connector", &cpln.SecretArgs{
                Name:        pulumi.String("azure-function-connector"),
                Description: pulumi.String("Azure Function App webhook connector"),
                AzureConnector: &cpln.SecretAzureConnectorArgs{
                    Url:  pulumi.String("https://my-function-app.azurewebsites.net/api/webhook"),
                    Code: pulumi.String("your-function-key-here"),
                },
            })
            return err
        })
    }
    ```
  </Tab>
  <Tab title="C#">
    ```csharp
    using Pulumi;
    using Pulumiverse.Cpln;
    using Pulumiverse.Cpln.Inputs;

    return await Deployment.RunAsync(() =>
    {
        var azureConnectorSecret = new Secret("azure-function-connector", new SecretArgs
        {
            Name = "azure-function-connector",
            Description = "Azure Function App webhook connector",
            AzureConnector = new SecretAzureConnectorArgs
            {
                Url = "https://my-function-app.azurewebsites.net/api/webhook",
                Code = "your-function-key-here",
            },
        });
    });
    ```
  </Tab>
</Tabs>

---

## Finding Your Function Key

1. Open the [Azure Portal](https://portal.azure.com)
2. Navigate to your Function App
3. Click **App keys** in the left menu for host-level keys, or
4. Click on a specific function, then **Function keys** for function-level keys
5. Copy the **default** key or create a new one

<Tip>
Use function-level keys when possible to limit access to specific functions. Use host keys only when you need to access multiple functions.
</Tip>

---

## URL Format

Azure Function URLs follow this pattern:

```
https://<function-app-name>.azurewebsites.net/api/<function-name>
```

For custom domains:
```
https://api.example.com/api/<function-name>
```

---

## Next Steps

<CardGroup cols={2}>
  <Card title="Azure SDK Secrets" icon="microsoft" href="/guides/create-secret/azure-sdk">
    Authenticate with Azure services using SDK
  </Card>
  <Card title="Using Secrets in Workloads" icon="cube" href="/guides/create-secret/overview#using-secrets-in-workloads">
    Learn how to grant access and inject secrets
  </Card>
</CardGroup>
